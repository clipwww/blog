(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{515:function(t,a,s){"use strict";s.r(a);var n=s(5),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("å…¬å¸çš„å°ˆæ¡ˆè¦åŠ ä¸Šæ”¯ä»˜ (ä¿¡ç”¨å¡, Apple Pay, Google Pay)"),a("br"),t._v("\nä¸­é–“é‚„ç¶“æ­·äº†å¾ä¸² TapPay æ›åˆ°ä¸²è—æ–° ğŸ« "),a("br"),t._v("\nè¶é‚„æœ‰è¨˜æ†¶æ™‚ç´€éŒ„ä¸€ä¸‹ï¼Œä¹Ÿè¨±å°æœªä¾†çš„è‡ªå·±æœƒæœ‰å¹«åŠ© ğŸ˜‚")]),t._v(" "),a("h2",{attrs:{id:"tappay"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tappay"}},[t._v("#")]),t._v(" TapPay")]),t._v(" "),a("h3",{attrs:{id:"è¨­å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¨­å®š"}},[t._v("#")]),t._v(" è¨­å®š")]),t._v(" "),a("p",[t._v("TapPay çš„ Apple Pay on Web ä¸éœ€è¦è‡ªå·±ç”³è«‹ Apple Pay é–‹ç™¼è€…å¸³è™Ÿ"),a("br"),t._v("\nè®“æ•´å€‹è¨­å®šæµç¨‹è®Šå¾—éå¸¸ç°¡å–®"),a("br"),t._v("\nå¯åƒè€ƒ "),a("a",{attrs:{href:"https://docs.tappaysdk.com/apple-pay/zh/portal.html#apple-pay-on-the-web-merchant-setting",target:"_blank",rel:"noopener noreferrer"}},[t._v("TapPay çš„æ–‡ä»¶"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("https çš„ç¶²åŸŸ\n"),a("ul",[a("li",[t._v("å¯ä»¥ç”¨ ngrokï¼Œä½†å…è²»ç‰ˆçš„æœ‰ request æ•¸é™åˆ¶")])])]),t._v(" "),a("li",[t._v("ç™»å…¥ TapPay Portal > æ”¯ä»˜ç®¡ç† > Apple Pay On The Web")])]),t._v(" "),a("img",{attrs:{src:"https://imgur.com/TlaMIQw.png","data-action":"zoom"}}),t._v(" "),a("p",[t._v("ç¶²åŸŸé©—è­‰å®Œç²å¾—å•†å®¶è­˜åˆ¥ç¢¼å°±æº–å‚™å°±ç·’äº†")]),t._v(" "),a("h3",{attrs:{id:"ä¸²æ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸²æ¥"}},[t._v("#")]),t._v(" ä¸²æ¥")]),t._v(" "),a("p",[t._v("å¯ç›´æ¥åƒè€ƒ "),a("a",{attrs:{href:"https://github.com/TapPay/tappay-web-example/tree/master/Apple_Pay",target:"_blank",rel:"noopener noreferrer"}},[t._v("TapPay Web Example - Apple Pay"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("å¼•å…¥ TapPay SDK")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  useScriptTag "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vueuse/core'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useScriptTag")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://js.tappaysdk.com/sdk/tpdirect/v5.18.0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TPDirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setupSDK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{TapPay App Id}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{TapPay App Key}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{ENV: sandbox | production}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("strong",[t._v("Setup Apple Pay")])])]),t._v(" "),a("p",[t._v("å¯ä»¥å…ˆæª¢æŸ¥ç€è¦½å™¨æ˜¯å¦å¯ä»¥ä½¿ç”¨ Payment Request API")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TPDirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("paymentRequestApi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkAvailability")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// continue")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("setup")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TPDirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("paymentRequestApi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setupApplePay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("merchantIdentifier")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{å•†åº—è­˜åˆ¥ç¢¼}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// defaults to 'TW'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("countryCode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TW'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[a("strong",[t._v("Setup Payment Request")])])]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TPDirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("paymentRequestApi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setupPaymentRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  supportedNetworks"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MASTERCARD'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'VISA'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'AMEX'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'JCB'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  supportedMethods"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'apple_pay'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  displayItems"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("items"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?.")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("price "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{å“é …åç¨±}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    amount"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      currency"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TWD"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"100.00"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  total"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{ä»˜çµ¦ XXX}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    amount"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      currency"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TWD"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"100.00"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** é€è²¨ç›¸é—œè³‡è¨Š */")]),t._v("\n  shippingOptions"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    requestPayerEmail"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    requestPayerName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    requestPayerPhone"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    requestShipping"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://docs.tappaysdk.com/payment-request-api/zh/reference.html#shippingtype")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// shippingType: 'shipping'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" browserSupportPaymentRequest"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" canMakePaymentWithActiveCard"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * browserSupportPaymentRequest: ä»£è¡¨ç€è¦½å™¨æ”¯æ´ Payment Request API\n   * canMakePaymentWithActiveCard: ä»£è¡¨ä½¿ç”¨è€…æœ‰å¯ä»¥æ”¯ä»˜çš„å¡ç‰‡\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ready for get prime ğŸ’ª")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[a("strong",[t._v("Get Prime")])])]),t._v(" "),a("p",[t._v("å®Œæˆ setup å¾Œå°±å¯ä»¥å‘¼å« get prime è·³å‡ºåŸç”Ÿçš„ Apple Pay ä»˜æ¬¾é©—è­‰"),a("br"),t._v("\né©—è­‰æˆåŠŸå°±æœƒæ‹¿åˆ° primeï¼Œæ¥è‘—å°±å¯ä»¥æ•™çµ¦å¾Œç«¯é€²è¡Œä»˜æ¬¾ï¼ˆPay by Prime APIï¼‰")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TPDirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("paymentRequestApi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" RequestApiGetPrimeResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("get prime by apple pay failed: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("RequestApiGetPrimeResult çš„å…§å®¹å¯åƒè€ƒ "),a("a",{attrs:{href:"https://docs.tappaysdk.com/payment-request-api/zh/front.html#get-prime-result",target:"_blank",rel:"noopener noreferrer"}},[t._v("Get Prime Result"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"è£œå……"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è£œå……"}},[t._v("#")]),t._v(" è£œå……")]),t._v(" "),a("h4",{attrs:{id:"apple-pay-æµç¨‹ä¸Šéœ€è¦æ³¨æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apple-pay-æµç¨‹ä¸Šéœ€è¦æ³¨æ„"}},[t._v("#")]),t._v(" Apple Pay æµç¨‹ä¸Šéœ€è¦æ³¨æ„")]),t._v(" "),a("p",[t._v("å‘¼å« getPrime å¿…é ˆè¦ç”±ä½¿ç”¨è€…çš„æ“ä½œè¡Œç‚ºä¾†è§¸ç™¼ (ex: click event)"),a("br"),t._v("\nä¸€é–‹å§‹è¨­è¨ˆçš„æµç¨‹æ˜¯")]),t._v(" "),a("ol",[a("li",[t._v("ä½¿ç”¨è€…æŒ‰ä¸‹ ã€ŒPayã€")]),t._v(" "),a("li",[t._v("å‘¼å« API å»ºç«‹è¨‚å–®")]),t._v(" "),a("li",[t._v("å‘¼å« setupPaymentRequest å»ºç«‹ Apple Pay ä»˜æ¬¾è³‡è¨Š")]),t._v(" "),a("li",[t._v("å‘¼å« getPrime")]),t._v(" "),a("li",[t._v("å‘¼å« API ä»˜æ¬¾")])]),t._v(" "),a("p",[t._v("çµæœ step 4 å°±å™´å‡ºäº†éŒ¯èª¤è¨Šæ¯ã€Œ"),a("strong",[t._v("Must create a new ApplePaySession from a user gesture handler")]),t._v("ã€"),a("br"),t._v("\ngoogle çˆ¬æ–‡ & å• gpt å¾Œæ‰çŸ¥é“åŸä¾†å¿…é ˆæ˜¯é€éä½¿ç”¨è€…çš„æ“ä½œå¾Œç›´æ¥çš„å‘¼å« getPrime"),a("br"),t._v("\nåšäº†ä¸€äº›å˜—è©¦å¾Œå¾—åˆ°çµè«–æ˜¯ï¼Œä¸­é–“ä¸èƒ½åƒé›œ http request"),a("br"),t._v("\nä¹Ÿä¸èƒ½ click -> setupPaymentRequest -> getPrime"),a("br"),t._v("\nå¿…é ˆè¦æ˜¯ setupPaymentRequest -> click -> getPrime"),a("br"),t._v("\né›–ç„¶ä¸æ¸…æ¥š apple æ€éº¼åˆ¤æ–·çš„")]),t._v(" "),a("p",[t._v("ä¸” Apple/Google Pay å°ä½¿ç”¨è€…æŒ‰ä¸‹çš„ä»˜æ¬¾æŒ‰éˆ•éƒ½æœ‰æ¨£å¼è¦ç¯„"),a("br"),t._v("\næµç¨‹ä¸Šä¸èƒ½ç”¨è‡ªå·±çš„ä»˜æ¬¾æŒ‰éˆ•å°±ç™¼èµ· Apple/Google Pay"),a("br"),t._v("\nå› æ­¤å¾Œä¾†çµ±ä¸€å°‡ web çš„æ”¯ä»˜æµç¨‹èª¿æ•´ç‚º")]),t._v(" "),a("ol",[a("li",[t._v("ä½¿ç”¨è€…æŒ‰ä¸‹ ã€ŒPayã€")]),t._v(" "),a("li",[t._v("å‘¼å« API å»ºç«‹è¨‚å–®")]),t._v(" "),a("li",[t._v("å‘¼å« setupPaymentRequest å»ºç«‹ Apple Pay ä»˜æ¬¾è³‡è¨Š")]),t._v(" "),a("li",[t._v("ä¸‹å€‹ç•«é¢ï¼Œé¡¯ç¤ºç¬¦åˆ Apple Pay æ¨£å¼è¦ç¯„çš„æŒ‰éˆ•")]),t._v(" "),a("li",[t._v("ä½¿ç”¨è€…æŒ‰ä¸‹æŒ‰éˆ• getPrime")]),t._v(" "),a("li",[t._v("å‘¼å« API ä»˜æ¬¾")])]),t._v(" "),a("p",[t._v("çµ‚æ–¼é †åˆ©å–å¾— Prime èƒ½ä»˜æ¬¾æˆåŠŸ ğŸ‰")]),t._v(" "),a("h4",{attrs:{id:"å•Ÿç”¨æ­£å¼ç’°å¢ƒæœå‹™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å•Ÿç”¨æ­£å¼ç’°å¢ƒæœå‹™"}},[t._v("#")]),t._v(" å•Ÿç”¨æ­£å¼ç’°å¢ƒæœå‹™")]),t._v(" "),a("p",[t._v("æœ€å¾Œä¸¦æ²’æœ‰èµ°åˆ°é€™ ğŸ« "),a("br"),t._v("\nä¸é "),a("a",{attrs:{href:"https://docs.tappaysdk.com/apple-pay/zh/portal.html#apple-pay-on-the-web-merchant-setting",target:"_blank",rel:"noopener noreferrer"}},[t._v("TapPay çš„æ–‡ä»¶"),a("OutboundLink")],1),t._v("ä¸€æ¨£æœ‰å¯«ï¼Œå¯ä»¥åƒè€ƒ")]),t._v(" "),a("h2",{attrs:{id:"è—æ–°é‡‘æµ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è—æ–°é‡‘æµ"}},[t._v("#")]),t._v(" è—æ–°é‡‘æµ")]),t._v(" "),a("p",[t._v("(å‰ç•¥)ç¸½ä¹‹è®Šæˆäº†è¦æ”¹ä¸²è—æ–°é‡‘æµ")]),t._v(" "),a("h3",{attrs:{id:"è¨­å®š-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¨­å®š-2"}},[t._v("#")]),t._v(" è¨­å®š")]),t._v(" "),a("ul",[a("li",[t._v("Apple é–‹ç™¼è€…å¸³è™Ÿ")]),t._v(" "),a("li",[t._v("https ç¶²åŸŸ")]),t._v(" "),a("li",[t._v("æ†‘è­‰æª”")])]),t._v(" "),a("p",[t._v("äº‹å‰çš„æº–å‚™ä¸æ˜¯æˆ‘è™•ç†çš„ï¼Œç„¡æ³•ç´€éŒ„ ğŸ¤£"),a("br"),t._v("\nä½†æ‡‰è©²æ˜¯æ•´å€‹ä¸²æ¥ä¸­æœ€éº»ç…©çš„æ­¥é©Ÿ"),a("br"),t._v("\nå¯åƒè€ƒ"),a("a",{attrs:{href:"https://cwww.newebpay.com/dw_files/Neweb_Applepayredme_20220622.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("è—æ–°æ–‡ä»¶"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("æˆ‘åªè² è²¬æ‹¿åˆ°å¯ä»¥ç”¨çš„ merchantId, æ†‘è­‰æª” & domain å¾Œä¸²æ¥ ğŸ™ˆ"),a("br"),t._v("\nä½¿ç”¨ typescript çš„å°ˆæ¡ˆæ¨è–¦å®‰è£ "),a("code",[t._v("@types/applepayjs")])]),t._v(" "),a("h3",{attrs:{id:"ä¸²æ¥-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸²æ¥-2"}},[t._v("#")]),t._v(" ä¸²æ¥")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("æª¢æŸ¥æ˜¯å¦å¯ä½¿ç”¨ Apple Pay")])])]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * window.ApplePaySession.canMakePaymentsWithActiveCard: Promise<boolean> æ˜¯å¦æœ‰å¯ä»¥æ”¯ä»˜çš„å¡ç‰‡\n * window.ApplePaySession.canMakePayments: boolean è£ç½®æ˜¯å¦æ”¯æ´ Apple Pay\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApplePaySession \n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApplePaySession"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("canMakePaymentsWithActiveCard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{merchantIdentifier}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApplePaySession"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("canMakePayments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// just do it ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("strong",[t._v("å»ºç«‹ Apple Pay ä»˜æ¬¾è³‡è¨Š & é©—è­‰ Merchant")])])]),t._v(" "),a("h4",{attrs:{id:"å»ºç«‹-apple-pay-session"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å»ºç«‹-apple-pay-session"}},[t._v("#")]),t._v(" å»ºç«‹ Apple Pay Session")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" paymentRequest"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ApplePayJS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApplePayPaymentRequest "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  countryCode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TW'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  currencyCode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TWD'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  supportedNetworks"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visa'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'masterCard'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jcb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  merchantCapabilities"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'supports3DS'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'supportsCredit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'supportsDebit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  total"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{ä»˜çµ¦ XXX}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    amount"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'100.00'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  lineItems"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// optional å“é …åç¨± & é‡‘é¡")]),t._v("\n  requiredBillingContactFields"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'email'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'phone'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  requiredShippingContactFields"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  shippingMethods"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" session "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("window")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ApplePaySession")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" paymentRequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nsession"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("begin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("a",{attrs:{href:"https://developer.apple.com/documentation/apple_pay_on_the_web/applepaypaymentrequest/1916122-supportednetworks#discussion",target:"_blank",rel:"noopener noreferrer"}},[t._v("supportedNetworks æ”¯æ´çš„é …ç›®èˆ‡ç›¸æ‡‰çš„ version å¯åƒè€ƒ"),a("OutboundLink")],1),a("br"),t._v("\né›–ç„¶åªæ‰“ç®—ä½¿ç”¨ä¸‰å¤§ç™¼å¡çµ„ç¹”çš„å¡ï¼Œä½† version é‚„æ˜¯ç›´æ¥ç„¡è…¦ç”¨ç•¶ä¸‹æœ€æ–°çš„ 14 ğŸ™ˆ")]),t._v(" "),a("p",[t._v("æ¥è‘—æ˜¯æ•´å€‹ä¸²æ¥ä¸­ç¬¬äºŒéº»ç…©çš„éƒ¨åˆ†"),a("br"),t._v("\né©—è­‰ Merchant"),a("br"),t._v("\nä¹Ÿå°±æ˜¯ Apple Pay åŸç”Ÿè¦–çª—å‰›å½ˆå‡ºæ™‚åœ¨è½‰åœˆåœˆçš„éƒ¨åˆ†"),a("br"),t._v("\né€™æ™‚æœƒè§¸ç™¼ "),a("code",[t._v("onvalidatemerchant")]),t._v(" æ‹¿åˆ° validationURL"),a("br"),t._v("\nå°‡ validationURL, merchantIdentifier & displayName ä¸€åŒäº¤çµ¦ API Server"),a("br"),t._v("\nç”± API Server å‘ Apple ç™¼ request é©—è­‰")]),t._v(" "),a("h4",{attrs:{id:"å¯¦ä½œ-onvalidatemerchant-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¦ä½œ-onvalidatemerchant-client"}},[t._v("#")]),t._v(" å¯¦ä½œ onvalidatemerchant Client")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[t._v("session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onvalidatemerchant")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" validationURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("validationURL\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ret "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/ap-session'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    validationURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    merchantIdentifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    displayName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{é¡¯ç¤ºçš„å•†åº—åç¨±ï¼Œå¯ä»¥ä¸­æ–‡}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** å¤±æ•— -> é—œé–‰ session */")]),t._v("\n    session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("abort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** æˆåŠŸ -> å°‡ Apple å›å‚³çš„çµæœç”¨æ–¼å®Œæˆé©—è­‰ */")]),t._v("\n  session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("completeMerchantValidation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"å¯¦ä½œ-onvalidatemerchant-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¦ä½œ-onvalidatemerchant-server"}},[t._v("#")]),t._v(" å¯¦ä½œ onvalidatemerchant Server")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" resolve "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" readFileSync "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Agent "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Router "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" axios "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'axios'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Router")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nrouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/ap-session'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" validationURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" displayName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" merchantIdentifier "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" httpsAgent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Agent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      cert"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./sandbox/mid_cert.pem'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      key"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./sandbox/mid.key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("validationURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      merchantIdentifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      displayName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      initiative"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'web'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å›ºå®šå¸¶ web")]),t._v("\n      initiativeContext"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" httpsAgent "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      code"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      response"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      code"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Axios éœ€è¦è¨­å®š httpsAgent"),a("br"),t._v("\næŠŠå¾è—æ–°é‚£æ‹¿åˆ°çš„æ†‘è­‰æª”æ¡ˆé™„ä¸Šå»")]),t._v(" "),a("blockquote",[a("p",[t._v("è—æ–°çµ¦äº†å¾ˆå¤šæ†‘è­‰æª”æ¡ˆï¼ŒèªçœŸèªªæ²’ææ¸…æ¥šæ˜¯è¦å¸¶å“ªä¸€çµ„ï¼Œå°±ä¸€ç›´ try åˆ°å¯ä»¥éç‚ºæ­¢ğŸ¥¹")])]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[a("strong",[t._v("Get PaymentData")]),a("br"),t._v("\né©—è­‰æˆåŠŸå¾Œ Apple Pay è¦–çª—å°±æœƒè®Šæˆç­‰å¾… Face/Touch ID"),a("br"),t._v("\nFace/Touch ID é©—è­‰æˆåŠŸå°±æœƒè§¸ç™¼ "),a("code",[t._v("onpaymentauthorized")]),t._v(" å–å¾—ä»˜æ¬¾éœ€è¦çš„ token"),a("br"),t._v("\nå¦‚æœä½¿ç”¨è€…é—œé–‰ Apple Pay å‰‡æœƒè§¸ç™¼ "),a("code",[t._v("oncancel")])])]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[t._v("session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onpaymentauthorized")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("completePayment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApplePaySession"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STATUS_SUCCESS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‘¼å« API ä»˜æ¬¾")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è—æ–°çš„å¹•å¾Œä»˜æ¬¾éœ€è¦çš„ APPLEPAY å°±æ˜¯ event.payment.token.paymentData")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éœ€æ³¨æ„ paymentData æ˜¯ä¸€å€‹ objectï¼Œéœ€è¦è‡ªå·± stringify éå†äº¤çµ¦è—æ–° API")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nsession"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("oncancel")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"è£œå……-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è£œå……-2"}},[t._v("#")]),t._v(" è£œå……")]),t._v(" "),a("h4",{attrs:{id:"apple-pay-æµç¨‹ä¸Šéœ€è¦æ³¨æ„-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apple-pay-æµç¨‹ä¸Šéœ€è¦æ³¨æ„-2"}},[t._v("#")]),t._v(" Apple Pay æµç¨‹ä¸Šéœ€è¦æ³¨æ„")]),t._v(" "),a("p",[t._v("åœ¨ä¸² TapPay æ™‚å·²ç¶“æ”¹éæµç¨‹"),a("br"),t._v("\næ‰€ä»¥æ”¹ä¸²è—æ–°ä¸¦æ²’æœ‰åœ¨è¸©åˆ°é€™å€‹é›·"),a("br"),t._v("\nä½†æ‡‰è©²ä¹Ÿæ˜¯ä½¿ç”¨è€… click -> new ApplePaySession -> session.begin()"),a("br"),t._v("\nä¸­é–“ä¸å¾—ç©¿æ’å…¶ä»– http request æˆ–å…¶ä»–æ“ä½œ")]),t._v(" "),a("h4",{attrs:{id:"éƒ¨ç½²åˆ°æ­£å¼ç’°å¢ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#éƒ¨ç½²åˆ°æ­£å¼ç’°å¢ƒ"}},[t._v("#")]),t._v(" éƒ¨ç½²åˆ°æ­£å¼ç’°å¢ƒ")]),t._v(" "),a("p",[t._v("ç”¨æ­£å¼ç’°å¢ƒå°æ‡‰çš„ merchantIdentifier, æ†‘è­‰ & Domain å³å¯"),a("br"),t._v("\næ²’æœ‰å…¶ä»–é¡å¤–çš„å¯©æ ¸äº† ğŸŠ")]),t._v(" "),a("h2",{attrs:{id:"apple-pay-button"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apple-pay-button"}},[t._v("#")]),t._v(" Apple Pay Button")]),t._v(" "),a("p",[t._v("Apple Pay çš„æŒ‰éˆ•æ˜¯æœ‰"),a("a",{attrs:{href:"https://developer.apple.com/design/human-interface-guidelines/apple-pay",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¨£å¼è¦ç¯„"),a("OutboundLink")],1),t._v("çš„"),a("br"),t._v("\næœ€ç°¡å–®çš„æ–¹æ³•æ˜¯å¯ä»¥ç›´æ¥ç”¨ Apple Pay SDK ä¾†ç”¢ç”ŸæŒ‰éˆ•ï¼Œä½†éœ€è¦æ”¯æ´ Web Component"),a("br"),t._v("\nå¯åƒè€ƒ "),a("a",{attrs:{href:"https://applepaydemo.apple.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apple Pay JS API"),a("OutboundLink")],1),t._v(" çš„ Display an Apple Pay button")]),t._v(" "),a("p",[t._v("åƒç…§è‘—ç¯„ä¾‹åˆ»ä¸€å€‹å‡ºä¾†ä¹Ÿå¾ˆå¿«"),a("br"),t._v("\næˆ–æ˜¯ç›´æ¥ç”¨ "),a("a",{attrs:{href:"https://developer.apple.com/documentation/apple_pay_on_the_web/displaying_apple_pay_buttons_using_css",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apple æä¾›çš„ CSS"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"apple-pay-on-webview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apple-pay-on-webview"}},[t._v("#")]),t._v(" Apple Pay on Webview")]),t._v(" "),a("p",[t._v("Apple Pay åœ¨ Line Webviewã€LIFF (LINE Front-end Framework) å…§éƒ½å¯ä»¥é †åˆ©ä½¿ç”¨")]),t._v(" "),a("p",[t._v("åè§€ Google Pay åœ¨ Webview é€£ Pixel éƒ½å«ä¸å‡ºåŸç”Ÿè¦–çª—ğŸ¥¹"),a("br"),t._v("\nå¿…é ˆè¦è®“ä½¿ç”¨è€…é–‹å•Ÿå¤–éƒ¨ç€è¦½å™¨æ‰èƒ½é€²è¡Œä»˜æ¬¾")]),t._v(" "),a("h2",{attrs:{id:"åƒè€ƒè³‡æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åƒè€ƒè³‡æ–™"}},[t._v("#")]),t._v(" åƒè€ƒè³‡æ–™")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.tappaysdk.com/apple-pay/zh/home.html#home",target:"_blank",rel:"noopener noreferrer"}},[t._v("TapPay æ–‡ä»¶ - Apple Pay"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/TapPay/tappay-web-example",target:"_blank",rel:"noopener noreferrer"}},[t._v("TapPay Web Example"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://ianwu.tw/press/programming/third_party/integrate_apple_pay_on_web.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apple Pay on Web ä¸²æ¥ | é™¢é•·çš„ç³»çµ±é–‹ç™¼å¤§å°äº‹"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://soarlin.github.io/2018/03/10/apple-pay-on-the-web-%E9%96%8B%E7%99%BC%E7%AD%86%E8%A8%98/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apple Pay on the Web é–‹ç™¼ç­†è¨˜ | SoarLin"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.apple.com/documentation/passkit_apple_pay_and_wallet/apple_pay",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apple Pay æ–‡ä»¶"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);